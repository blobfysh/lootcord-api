This is the Lootcord api server used to process votes and server-side economy api requests. Tokens can't be generated by users yet, you'll need to contact blobfysh#4679 on Discord.

# API Reference

## Base URL
```
https://api.lootcord.com
```

## Authentication

You can authorize requests by passing your token in the authorization header.

#### Example

```
Authorization: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJndWlsZElEIjoiNDk3MzAyNjQ2NTIxMDY5NTY4IiwiaWF0IjoxNjIzNzc4MDUyfQ.SXN6b-GTAaF-zGWRu_G5X8IZirb36I9W9Ye5bWiL75g
```

## Endpoints

### POST /guilds/:id/items

Adds an items to specified user in the guild with the ID: `id`.

#### Body Parameters
| Field      | Type       | Description                           |
| ---------- | ---------- | --------------------------------------|
| user       | string     | User ID to give item to               |
| item       | string     | Item to give                          |
| amount     | integer    | Amount of item to give                |

#### Example Response
```
{
    "message": "Success",
    "used": 48,
    "available": 7,
    "max": 55
}
```

### DELETE /guilds/:id/items

Removes item from specified user in the guild with the ID: `id`.

#### Body Parameters
| Field      | Type       | Description                           |
| ---------- | ---------- | --------------------------------------|
| user       | string     | User ID to remove item from           |
| item       | string     | Item to remove                        |
| amount     | integer    | Amount of item to remove              |

#### Example Response
```
{
    "message": "Success",
    "user": {
        "items": {
            "looter": 2,
            "killer": 2,
            "elite": 2,
            "hitman": 2,
            "master": 2,
            "spooky": 2,
            "sheriff": 2,
            "kofi_king": 2,
            "patron": 2,
            "recruit": 1,
            "rock": 46,
            "crate": 0
        }
    }
}
```

# Development
Install dependencies:
```bash
yarn
```

Build and watch files for changes:
```bash
yarn dev
```

## Building for production

Build to /dist:
```
yarn build
```

Start server:
```
yarn start
```
